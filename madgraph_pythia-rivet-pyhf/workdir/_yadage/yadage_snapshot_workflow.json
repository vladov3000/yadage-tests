{"dag": {"nodes": [], "edges": []}, "rules": [{"type": "offset", "id": "369f63f5-6b49-4e82-bc48-a288861f534b", "offset": "", "rule": {"name": "generation_madgraph_pythia", "state_provider": {"state_provider_type": "localfs_provider", "base_state": {"state_type": "localfs", "identifier": "unidentified_state", "readwrite": [{"path": "/Users/vlad/Documents/EPEprojects/yadage-tests/madgraph_pythia-rivet-pyhf/workdir", "name": "workdir"}], "readonly": []}, "init_states": [{"state_type": "localfs", "identifier": "unidentified_state", "readwrite": [], "readonly": [{"path": "/Users/vlad/Documents/EPEprojects/yadage-tests/madgraph_pythia-rivet-pyhf/workdir/init", "name": "readdir0"}]}], "nest": true, "ensure": true, "sub_init_states": {}}, "type": "JsonStage", "scheduler": {"parameters": [{"key": "n_events", "value": {"output": "n_events", "step": "init", "expression_type": "stage-output-selector"}}, {"key": "proc_card", "value": {"output": "proc_card", "step": "init", "expression_type": "stage-output-selector"}}], "scheduler_type": "singlestep-stage", "workflow": {"stages": [{"dependencies": {"dependency_type": "jsonpath_ready", "expressions": ["init"]}, "name": "madgraph", "scheduler": {"parameters": [{"key": "n_events", "value": {"output": "n_events", "step": "init", "expression_type": "stage-output-selector"}}, {"key": "outputlhe", "value": "events.lhe"}, {"key": "param_card", "value": {"output": "param_card", "step": "init", "expression_type": "stage-output-selector"}}, {"key": "proc_card", "value": {"output": "proc_card", "step": "init", "expression_type": "stage-output-selector"}}, {"key": "run_card", "value": {"output": "run_card", "step": "init", "expression_type": "stage-output-selector"}}, {"key": "ufotar", "value": {"output": "ufotar", "step": "init", "expression_type": "stage-output-selector"}}], "scheduler_type": "singlestep-stage", "step": {"environment": {"environment_type": "docker-encapsulated", "image": "recast/madgraph", "imagetag": "2.6.7", "resources": [], "envscript": "", "env": {}, "workdir": null, "par_mounts": []}, "process": {"process_type": "interpolated-script-cmd", "script": ". ~/.profile\npython steer_madgraph.py {proc_card} {outputlhe} --ufotar {ufotar} --run_card {run_card} \\\n--param_card {param_card} -n {n_events}\n", "interpreter": "sh"}, "publisher": {"outputmap": {"lhefile": "outputlhe"}, "publisher_type": "frompar-pub"}}}}, {"dependencies": {"dependency_type": "jsonpath_ready", "expressions": ["init"]}, "name": "pythia", "scheduler": {"parameters": [{"key": "inputlhe", "value": "events.lhe"}, {"key": "n_events", "value": {"output": "n_events", "step": "init", "expression_type": "stage-output-selector"}}, {"key": "outputhepmc", "value": "{workdir}/output.hepmc"}, {"key": "pythia_card", "value": {"output": "pythia_card", "step": "init", "expression_type": "stage-output-selector"}}], "scheduler_type": "singlestep-stage", "step": {"environment": {"environment_type": "docker-encapsulated", "image": "recast/pythia", "imagetag": "8243", "resources": [], "envscript": "", "env": {}, "workdir": null, "par_mounts": []}, "process": {"process_type": "interpolated-script-cmd", "script": ". ~/.profile\npython steer_pythia.py {inputlhe} {hepmc} {n_events} {pythia_card}\n", "interpreter": "sh"}, "publisher": {"outputmap": {"hepmc": "hepmc"}, "publisher_type": "frompar-pub"}}}}]}}, "dependencies": {"dependency_type": "jsonpath_ready", "expressions": ["init"]}}}, {"type": "offset", "id": "f51629d4-bad2-4386-b273-7989d7875d78", "offset": "", "rule": {"name": "selection_rivet", "state_provider": {"state_provider_type": "localfs_provider", "base_state": {"state_type": "localfs", "identifier": "unidentified_state", "readwrite": [{"path": "/Users/vlad/Documents/EPEprojects/yadage-tests/madgraph_pythia-rivet-pyhf/workdir", "name": "workdir"}], "readonly": []}, "init_states": [{"state_type": "localfs", "identifier": "unidentified_state", "readwrite": [], "readonly": [{"path": "/Users/vlad/Documents/EPEprojects/yadage-tests/madgraph_pythia-rivet-pyhf/workdir/init", "name": "readdir0"}]}], "nest": true, "ensure": true, "sub_init_states": {}}, "type": "JsonStage", "scheduler": {"parameters": [{"key": "analysis_id", "value": {"output": "analysis_id", "step": "init", "expression_type": "stage-output-selector"}}, {"key": "hepmc", "value": {"output": "hepmc", "step": "generation", "expression_type": "stage-output-selector"}}], "scheduler_type": "singlestep-stage", "workflow": {"stages": [{"dependencies": {"dependency_type": "jsonpath_ready", "expressions": ["init"]}, "name": "rivet", "scheduler": {"parameters": [{"key": "analysis", "value": {"output": "analysis", "step": "init", "expression_type": "stage-output-selector"}}, {"key": "hepmc", "value": {"output": "input", "step": "init", "expression_type": "stage-output-selector"}}, {"key": "output_interface", "value": {"output": "output_interface", "step": "init", "expression_type": "stage-output-selector"}}, {"key": "output_path", "value": "{workdir}/output"}], "scheduler_type": "singlestep-stage", "step": {"environment": {"environment_type": "docker-encapsulated", "image": "recast/rivet", "imagetag": "latest", "resources": [], "envscript": "", "env": {}, "workdir": null, "par_mounts": []}, "process": {"process_type": "interpolated-script-cmd", "script": "rivet -a {analysis} -H {yoda} {hepmc}\n", "interpreter": "sh"}, "publisher": {"publish": {"yoda": "{yoda}"}, "publisher_type": "interpolated-pub", "glob": false, "relative_paths": false}}}}]}}, "dependencies": {"dependency_type": "jsonpath_ready", "expressions": ["init", "generation_madgraph_pythia"]}}}, {"type": "offset", "id": "1aef09bf-010d-41b6-87a2-8f30cc6ac653", "offset": "", "rule": {"name": "statistics_pyhf", "state_provider": {"state_provider_type": "localfs_provider", "base_state": {"state_type": "localfs", "identifier": "unidentified_state", "readwrite": [{"path": "/Users/vlad/Documents/EPEprojects/yadage-tests/madgraph_pythia-rivet-pyhf/workdir", "name": "workdir"}], "readonly": []}, "init_states": [{"state_type": "localfs", "identifier": "unidentified_state", "readwrite": [], "readonly": [{"path": "/Users/vlad/Documents/EPEprojects/yadage-tests/madgraph_pythia-rivet-pyhf/workdir/init", "name": "readdir0"}]}], "nest": true, "ensure": true, "sub_init_states": {}}, "type": "JsonStage", "scheduler": {"parameters": [{"key": "workspace", "value": {"output": "workspace", "step": "init", "expression_type": "stage-output-selector"}}, {"key": "yoda", "value": {"output": "yoda", "step": "selection", "expression_type": "stage-output-selector"}}], "scheduler_type": "singlestep-stage", "workflow": {"stages": [{"dependencies": {"dependency_type": "jsonpath_ready", "expressions": ["init"]}, "name": "pyhf", "scheduler": {"parameters": [{"key": "outputcls", "value": "{workdir}/cls.json"}, {"key": "workspace", "value": {"output": "workspace", "step": "init", "expression_type": "stage-output-selector"}}, {"key": "yoda", "value": {"output": "yoda", "step": "init", "expression_type": "stage-output-selector"}}], "scheduler_type": "singlestep-stage", "step": {"environment": {"environment_type": "docker-encapsulated", "image": "recast/pyhf", "imagetag": "0.1.2", "resources": [], "envscript": "", "env": {}, "workdir": null, "par_mounts": []}, "process": {"process_type": "interpolated-script-cmd", "script": "python3 make_patch.py {workspace} {yoda} patch.json\npyhf cls --patch patch.json {workspace} > {outputcls}\n", "interpreter": "sh"}, "publisher": {"outputmap": {"clsjson": "outputcls"}, "publisher_type": "frompar-pub"}}}}]}}, "dependencies": {"dependency_type": "jsonpath_ready", "expressions": ["init", "selection_rivet"]}}}], "applied": [], "bookkeeping": {"_meta": {"stages": ["369f63f5-6b49-4e82-bc48-a288861f534b", "f51629d4-bad2-4386-b273-7989d7875d78", "1aef09bf-010d-41b6-87a2-8f30cc6ac653"], "steps": []}}, "stepsbystage": {}, "values": {}}