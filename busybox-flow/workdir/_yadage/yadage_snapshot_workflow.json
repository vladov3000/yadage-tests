{"dag": {"nodes": [{"id": "8078373e-887e-48df-98af-d590a43ef2f6", "name": "hello", "task": {"metadata": {"name": "hello", "wflow_node_id": "8078373e-887e-48df-98af-d590a43ef2f6", "wflow_offset": "", "wflow_stage": "hello", "wflow_stage_node_idx": 0, "wflow_hints": {"is_purepub": false}}, "parameters": {"parone": "WORLD", "outputfile": "{workdir}/hello.txt"}, "inputs": [], "type": "packtivity_task", "spec": {"process": {"process_type": "string-interpolated-cmd", "cmd": "echo hello {parone} | tee {outputfile}"}, "publisher": {"publisher_type": "frompar-pub", "outputmap": {"hellopar": "parone", "filename": "outputfile"}}, "environment": {"environment_type": "docker-encapsulated", "image": "busybox", "imagetag": "latest", "resources": [], "envscript": "", "env": {}, "workdir": null, "par_mounts": []}}, "state": {"state_type": "localfs", "identifier": "hello", "readwrite": [{"path": "/Users/vlad/Documents/EPEprojects/yadage-tests/busybox-flow/workdir/hello", "name": "workdir"}], "readonly": []}}, "timestamps": {"defined": 1579883492.110199, "submit": 1579883492.3352451, "ready by": 1579883497.094493}, "state": "SUCCESS", "proxy": {"proxyname": "PacktivityProxyBase", "proxydetails": null}, "result": {"hellopar": "WORLD", "filename": "/Users/vlad/Documents/EPEprojects/yadage-tests/busybox-flow/workdir/hello/hello.txt"}}, {"id": "804cbe28-b3fb-446e-9039-d500f1a090ec", "name": "world", "task": {"metadata": {"name": "world", "wflow_node_id": "804cbe28-b3fb-446e-9039-d500f1a090ec", "wflow_offset": "", "wflow_stage": "world", "wflow_stage_node_idx": 0, "wflow_hints": {"is_purepub": false}}, "parameters": {"parone": "HELLO", "partwo": "WORLD", "outputfile": "{workdir}/world.txt", "inputfile": "/Users/vlad/Documents/EPEprojects/yadage-tests/busybox-flow/workdir/hello/hello.txt"}, "inputs": [{"stepid": "8078373e-887e-48df-98af-d590a43ef2f6", "pointer_path": "/hellopar"}, {"stepid": "8078373e-887e-48df-98af-d590a43ef2f6", "pointer_path": "/filename"}], "type": "packtivity_task", "spec": {"process": {"process_type": "string-interpolated-cmd", "cmd": "(cat {inputfile}; echo {parone} {partwo}) | tee {outputfile}"}, "publisher": {"publisher_type": "frompar-pub", "outputmap": {"worldpar": "parone"}}, "environment": {"environment_type": "docker-encapsulated", "image": "busybox", "imagetag": "latest", "resources": [], "envscript": "", "env": {}, "workdir": null, "par_mounts": []}}, "state": {"state_type": "localfs", "identifier": "world", "readwrite": [{"path": "/Users/vlad/Documents/EPEprojects/yadage-tests/busybox-flow/workdir/world", "name": "workdir"}], "readonly": [{"path": "/Users/vlad/Documents/EPEprojects/yadage-tests/busybox-flow/workdir/hello", "name": "readdir0"}]}}, "timestamps": {"defined": 1579883492.2415528, "submit": 1579883497.094839, "ready by": 1579883500.408075}, "state": "SUCCESS", "proxy": {"proxyname": "PacktivityProxyBase", "proxydetails": null}, "result": {"worldpar": "HELLO"}}], "edges": [["8078373e-887e-48df-98af-d590a43ef2f6", "804cbe28-b3fb-446e-9039-d500f1a090ec"]]}, "rules": [], "applied": [{"type": "offset", "id": "fcc18ad4-8820-4a6b-94b9-f7436caef924", "offset": "", "rule": {"name": "hello", "state_provider": {"state_provider_type": "localfs_provider", "base_state": {"state_type": "localfs", "identifier": "unidentified_state", "readwrite": [{"path": "/Users/vlad/Documents/EPEprojects/yadage-tests/busybox-flow/workdir", "name": "workdir"}], "readonly": []}, "init_states": [{"state_type": "localfs", "identifier": "unidentified_state", "readwrite": [], "readonly": [{"path": "/Users/vlad/Documents/EPEprojects/yadage-tests/busybox-flow/workdir/init", "name": "readdir0"}]}], "nest": true, "ensure": true, "sub_init_states": {}}, "type": "JsonStage", "scheduler": {"scheduler_type": "singlestep-stage", "parameters": [{"key": "parone", "value": "WORLD"}, {"key": "outputfile", "value": "{workdir}/hello.txt"}], "step": {"process": {"process_type": "string-interpolated-cmd", "cmd": "echo hello {parone} | tee {outputfile}"}, "publisher": {"publisher_type": "frompar-pub", "outputmap": {"hellopar": "parone", "filename": "outputfile"}}, "environment": {"environment_type": "docker-encapsulated", "image": "busybox", "imagetag": "latest", "resources": [], "envscript": "", "env": {}, "workdir": null, "par_mounts": []}}}, "dependencies": {"dependency_type": "jsonpath_ready", "expressions": []}}}, {"type": "offset", "id": "117d2851-eb2f-4c1d-9ecb-b987f5fe7e95", "offset": "", "rule": {"name": "world", "state_provider": {"state_provider_type": "localfs_provider", "base_state": {"state_type": "localfs", "identifier": "unidentified_state", "readwrite": [{"path": "/Users/vlad/Documents/EPEprojects/yadage-tests/busybox-flow/workdir", "name": "workdir"}], "readonly": []}, "init_states": [{"state_type": "localfs", "identifier": "unidentified_state", "readwrite": [], "readonly": [{"path": "/Users/vlad/Documents/EPEprojects/yadage-tests/busybox-flow/workdir/init", "name": "readdir0"}]}], "nest": true, "ensure": true, "sub_init_states": {}}, "type": "JsonStage", "scheduler": {"scheduler_type": "singlestep-stage", "parameters": [{"key": "parone", "value": "HELLO"}, {"key": "partwo", "value": {"stages": "hello", "output": "hellopar", "unwrap": true, "expression_type": "stage-output-selector"}}, {"key": "outputfile", "value": "{workdir}/world.txt"}, {"key": "inputfile", "value": {"stages": "hello", "output": "filename", "unwrap": true, "expression_type": "stage-output-selector"}}], "step": {"process": {"process_type": "string-interpolated-cmd", "cmd": "(cat {inputfile}; echo {parone} {partwo}) | tee {outputfile}"}, "publisher": {"publisher_type": "frompar-pub", "outputmap": {"worldpar": "parone"}}, "environment": {"environment_type": "docker-encapsulated", "image": "busybox", "imagetag": "latest", "resources": [], "envscript": "", "env": {}, "workdir": null, "par_mounts": []}}}, "dependencies": {"dependency_type": "jsonpath_ready", "expressions": ["hello"]}}}], "bookkeeping": {"_meta": {"stages": ["fcc18ad4-8820-4a6b-94b9-f7436caef924", "117d2851-eb2f-4c1d-9ecb-b987f5fe7e95"], "steps": ["8078373e-887e-48df-98af-d590a43ef2f6", "804cbe28-b3fb-446e-9039-d500f1a090ec"]}}, "stepsbystage": {"hello": [{"_nodeid": "8078373e-887e-48df-98af-d590a43ef2f6"}], "world": [{"_nodeid": "804cbe28-b3fb-446e-9039-d500f1a090ec"}]}, "values": {}}