{"dag": {"nodes": [{"id": "ff2279a7-3b56-4aad-89c4-e3af2aff58f8", "name": "init", "task": {"metadata": {"name": "init", "wflow_node_id": "ff2279a7-3b56-4aad-89c4-e3af2aff58f8", "wflow_offset": "", "wflow_stage": "init", "wflow_stage_node_idx": 0, "wflow_hints": {"is_purepub": true}}, "parameters": {"proc_card": "proc_card_dm.dat", "n_events": 1000, "analysis_id": 1458270}, "inputs": [], "type": "packtivity_task", "spec": {"process": null, "environment": null, "publisher": {"publisher_type": "fromparjq-pub", "script": ".", "tryExact": true, "glob": true, "relative_paths": true}}, "state": {"state_type": "localfs", "identifier": "init", "readwrite": [], "readonly": [{"path": "/Users/vlad/Documents/EPEprojects/yadage-tests/madgraph_pythia-rivet/inputs", "name": "readdir0"}]}}, "timestamps": {"defined": 1582303512.758204, "submit": null, "ready by": null}, "state": "DEFINED", "proxy": null, "result": {"analysis_id": 1458270, "n_events": 1000, "proc_card": "/Users/vlad/Documents/EPEprojects/yadage-tests/madgraph_pythia-rivet/inputs/proc_card_dm.dat"}}, {"id": "12983145-a902-4385-9e4d-0073e51836e3", "name": "init_generation_madgraph_pythia", "task": {"metadata": {"name": "init_generation_madgraph_pythia", "wflow_node_id": "12983145-a902-4385-9e4d-0073e51836e3", "wflow_offset": "/generation_madgraph_pythia/0", "wflow_stage": "init", "wflow_stage_node_idx": 0, "wflow_hints": {"is_purepub": true}}, "parameters": {"n_events": 1000, "proc_card": "/Users/vlad/Documents/EPEprojects/yadage-tests/madgraph_pythia-rivet/inputs/proc_card_dm.dat"}, "inputs": [{"stepid": "ff2279a7-3b56-4aad-89c4-e3af2aff58f8", "pointer_path": "/n_events"}, {"stepid": "ff2279a7-3b56-4aad-89c4-e3af2aff58f8", "pointer_path": "/proc_card"}], "type": "packtivity_task", "spec": {"process": null, "environment": null, "publisher": {"publisher_type": "fromparjq-pub", "script": ".", "tryExact": true, "glob": false, "relative_paths": true}}, "state": {"state_type": "localfs", "identifier": "init", "readwrite": [], "readonly": [{"path": "/Users/vlad/Documents/EPEprojects/yadage-tests/madgraph_pythia-rivet/inputs", "name": "readdir0"}]}}, "timestamps": {"defined": 1582303512.915553, "submit": null, "ready by": null}, "state": "DEFINED", "proxy": null, "result": {"n_events": 1000, "proc_card": "/Users/vlad/Documents/EPEprojects/yadage-tests/madgraph_pythia-rivet/inputs/proc_card_dm.dat"}}, {"id": "8cf823c3-011e-4c1f-93ca-d2c487ff2fa1", "name": "madgraph", "task": {"metadata": {"name": "madgraph", "wflow_node_id": "8cf823c3-011e-4c1f-93ca-d2c487ff2fa1", "wflow_offset": "/generation_madgraph_pythia/0", "wflow_stage": "madgraph", "wflow_stage_node_idx": 0, "wflow_hints": {"is_purepub": false}}, "parameters": {"proc_card": "/Users/vlad/Documents/EPEprojects/yadage-tests/madgraph_pythia-rivet/inputs/proc_card_dm.dat", "n_events": 1000, "outputlhe": "{workdir}/events.lhe"}, "inputs": [{"stepid": "12983145-a902-4385-9e4d-0073e51836e3", "pointer_path": "/proc_card"}, {"stepid": "12983145-a902-4385-9e4d-0073e51836e3", "pointer_path": "/n_events"}], "type": "packtivity_task", "spec": {"environment": {"environment_type": "docker-encapsulated", "image": "recast/madgraph", "imagetag": "2.6.7_v2", "resources": [], "envscript": "", "env": {}, "workdir": null, "par_mounts": []}, "process": {"process_type": "string-interpolated-cmd", "cmd": "python steer_madgraph.py {proc_card} {outputlhe} -n {n_events}"}, "publisher": {"outputmap": {"lhefile": "outputlhe"}, "publisher_type": "frompar-pub"}}, "state": {"state_type": "localfs", "identifier": "madgraph", "readwrite": [{"path": "/Users/vlad/Documents/EPEprojects/yadage-tests/madgraph_pythia-rivet/workdir/generation_madgraph_pythia/madgraph", "name": "workdir"}], "readonly": [{"path": "/Users/vlad/Documents/EPEprojects/yadage-tests/madgraph_pythia-rivet/inputs", "name": "readdir0"}]}}, "timestamps": {"defined": 1582303513.14609, "submit": null, "ready by": null}, "state": "DEFINED", "proxy": null, "result": {"lhefile": "/Users/vlad/Documents/EPEprojects/yadage-tests/madgraph_pythia-rivet/workdir/generation_madgraph_pythia/madgraph/events.lhe"}}, {"id": "1b62c0dd-19ad-4ab0-9257-fd97c26236f2", "name": "pythia", "task": {"metadata": {"name": "pythia", "wflow_node_id": "1b62c0dd-19ad-4ab0-9257-fd97c26236f2", "wflow_offset": "/generation_madgraph_pythia/0", "wflow_stage": "pythia", "wflow_stage_node_idx": 0, "wflow_hints": {"is_purepub": false}}, "parameters": {"inputlhe": "/Users/vlad/Documents/EPEprojects/yadage-tests/madgraph_pythia-rivet/workdir/generation_madgraph_pythia/madgraph/events.lhe", "n_events": 1000, "outputhepmc": "{workdir}/output.hepmc"}, "inputs": [{"stepid": "8cf823c3-011e-4c1f-93ca-d2c487ff2fa1", "pointer_path": "/lhefile"}, {"stepid": "12983145-a902-4385-9e4d-0073e51836e3", "pointer_path": "/n_events"}], "type": "packtivity_task", "spec": {"environment": {"environment_type": "docker-encapsulated", "image": "recast/madgraph-pythia", "imagetag": "2.6.6", "resources": [], "envscript": "", "env": {}, "workdir": null, "par_mounts": []}, "process": {"process_type": "string-interpolated-cmd", "cmd": "python steer_pythia.py {inputlhe} {outputhepmc} {n_events}"}, "publisher": {"outputmap": {"hepmc": "outputhepmc"}, "publisher_type": "frompar-pub"}}, "state": {"state_type": "localfs", "identifier": "pythia", "readwrite": [{"path": "/Users/vlad/Documents/EPEprojects/yadage-tests/madgraph_pythia-rivet/workdir/generation_madgraph_pythia/pythia", "name": "workdir"}], "readonly": [{"path": "/Users/vlad/Documents/EPEprojects/yadage-tests/madgraph_pythia-rivet/inputs", "name": "readdir0"}, {"path": "/Users/vlad/Documents/EPEprojects/yadage-tests/madgraph_pythia-rivet/workdir/generation_madgraph_pythia/madgraph", "name": "readdir1"}]}}, "timestamps": {"defined": 1582303513.415873, "submit": null, "ready by": null}, "state": "DEFINED", "proxy": null, "result": {"hepmc": "/Users/vlad/Documents/EPEprojects/yadage-tests/madgraph_pythia-rivet/workdir/generation_madgraph_pythia/pythia/output.hepmc"}}], "edges": [["ff2279a7-3b56-4aad-89c4-e3af2aff58f8", "12983145-a902-4385-9e4d-0073e51836e3"], ["12983145-a902-4385-9e4d-0073e51836e3", "8cf823c3-011e-4c1f-93ca-d2c487ff2fa1"], ["12983145-a902-4385-9e4d-0073e51836e3", "1b62c0dd-19ad-4ab0-9257-fd97c26236f2"], ["8cf823c3-011e-4c1f-93ca-d2c487ff2fa1", "1b62c0dd-19ad-4ab0-9257-fd97c26236f2"]]}, "rules": [{"type": "offset", "id": "cd5c3c94-41c3-445d-a7b5-9696e3d574e7", "offset": "", "rule": {"name": "selection_rivet", "state_provider": {"state_provider_type": "localfs_provider", "base_state": {"state_type": "localfs", "identifier": "unidentified_state", "readwrite": [{"path": "/Users/vlad/Documents/EPEprojects/yadage-tests/madgraph_pythia-rivet/workdir", "name": "workdir"}], "readonly": []}, "init_states": [{"state_type": "localfs", "identifier": "unidentified_state", "readwrite": [], "readonly": [{"path": "/Users/vlad/Documents/EPEprojects/yadage-tests/madgraph_pythia-rivet/inputs", "name": "readdir0"}]}], "nest": true, "ensure": true, "sub_init_states": {}}, "type": "JsonStage", "scheduler": {"parameters": [{"key": "analysis_id", "value": {"output": "analysis_id", "step": "init", "expression_type": "stage-output-selector"}}, {"key": "hepmc", "value": {"output": "hepmc", "step": "generation", "expression_type": "stage-output-selector"}}], "scheduler_type": "singlestep-stage", "workflow": {"stages": [{"dependencies": {"dependency_type": "jsonpath_ready", "expressions": ["init"]}, "name": "rivet", "scheduler": {"parameters": [{"key": "analysis", "value": {"output": "analysis", "step": "init", "expression_type": "stage-output-selector"}}, {"key": "hepmc", "value": {"output": "input", "step": "init", "expression_type": "stage-output-selector"}}, {"key": "output_interface", "value": {"output": "output_interface", "step": "init", "expression_type": "stage-output-selector"}}, {"key": "output_path", "value": "{workdir}/output"}], "scheduler_type": "singlestep-stage", "step": {"environment": {"environment_type": "docker-encapsulated", "image": "recast/rivet", "imagetag": "latest", "resources": [], "envscript": "", "env": {}, "workdir": null, "par_mounts": []}, "process": {"process_type": "interpolated-script-cmd", "script": "rivet -a {analysis} -H {yoda} {hepmc}\n", "interpreter": "sh"}, "publisher": {"publish": {"yoda": "{yoda}"}, "publisher_type": "interpolated-pub", "glob": false, "relative_paths": false}}}}]}}, "dependencies": {"dependency_type": "jsonpath_ready", "expressions": ["init", "generation_madgraph_pythia"]}}}], "applied": [{"type": "offset", "id": "af35d5a5-5e56-4b78-9000-bc3a96771619", "offset": "", "rule": {"name": "init", "state_provider": {"state_provider_type": "localfs_provider", "base_state": {"state_type": "localfs", "identifier": "unidentified_state", "readwrite": [{"path": "/Users/vlad/Documents/EPEprojects/yadage-tests/madgraph_pythia-rivet/workdir", "name": "workdir"}], "readonly": []}, "init_states": [{"state_type": "localfs", "identifier": "unidentified_state", "readwrite": [], "readonly": [{"path": "/Users/vlad/Documents/EPEprojects/yadage-tests/madgraph_pythia-rivet/inputs", "name": "readdir0"}]}], "nest": true, "ensure": true, "sub_init_states": {}}, "type": "JsonStage", "scheduler": {"scheduler_type": "init-stage", "parameters": {"proc_card": "proc_card_dm.dat", "n_events": 1000, "analysis_id": 1458270}, "inputs": [], "nodename": null, "step": {"process": null, "environment": null, "publisher": {"publisher_type": "fromparjq-pub", "script": ".", "tryExact": true, "glob": true, "relative_paths": true}}}, "dependencies": {"dependency_type": "jsonpath_ready", "expressions": []}}}, {"type": "offset", "id": "1ba59b3c-5df6-448b-ae41-231a3863dec1", "offset": "", "rule": {"name": "generation_madgraph_pythia", "state_provider": {"state_provider_type": "localfs_provider", "base_state": {"state_type": "localfs", "identifier": "unidentified_state", "readwrite": [{"path": "/Users/vlad/Documents/EPEprojects/yadage-tests/madgraph_pythia-rivet/workdir", "name": "workdir"}], "readonly": []}, "init_states": [{"state_type": "localfs", "identifier": "unidentified_state", "readwrite": [], "readonly": [{"path": "/Users/vlad/Documents/EPEprojects/yadage-tests/madgraph_pythia-rivet/inputs", "name": "readdir0"}]}], "nest": true, "ensure": true, "sub_init_states": {}}, "type": "JsonStage", "scheduler": {"parameters": [{"key": "n_events", "value": {"output": "n_events", "step": "init", "expression_type": "stage-output-selector"}}, {"key": "proc_card", "value": {"output": "proc_card", "step": "init", "expression_type": "stage-output-selector"}}], "scheduler_type": "singlestep-stage", "workflow": {"stages": [{"dependencies": {"dependency_type": "jsonpath_ready", "expressions": ["init"]}, "name": "madgraph", "scheduler": {"parameters": [{"key": "proc_card", "value": {"output": "proc_card", "step": "init", "expression_type": "stage-output-selector"}}, {"key": "n_events", "value": {"output": "n_events", "step": "init", "expression_type": "stage-output-selector"}}, {"key": "outputlhe", "value": "{workdir}/events.lhe"}], "scheduler_type": "singlestep-stage", "step": {"environment": {"environment_type": "docker-encapsulated", "image": "recast/madgraph", "imagetag": "2.6.7_v2", "resources": [], "envscript": "", "env": {}, "workdir": null, "par_mounts": []}, "process": {"process_type": "string-interpolated-cmd", "cmd": "python steer_madgraph.py {proc_card} {outputlhe} -n {n_events}"}, "publisher": {"outputmap": {"lhefile": "outputlhe"}, "publisher_type": "frompar-pub"}}}}, {"dependencies": {"dependency_type": "jsonpath_ready", "expressions": ["madgraph"]}, "name": "pythia", "scheduler": {"parameters": [{"key": "inputlhe", "value": {"output": "lhefile", "step": "madgraph", "expression_type": "stage-output-selector"}}, {"key": "n_events", "value": {"output": "n_events", "step": "init", "expression_type": "stage-output-selector"}}, {"key": "outputhepmc", "value": "{workdir}/output.hepmc"}], "scheduler_type": "singlestep-stage", "step": {"environment": {"environment_type": "docker-encapsulated", "image": "recast/madgraph-pythia", "imagetag": "2.6.6", "resources": [], "envscript": "", "env": {}, "workdir": null, "par_mounts": []}, "process": {"process_type": "string-interpolated-cmd", "cmd": "python steer_pythia.py {inputlhe} {outputhepmc} {n_events}"}, "publisher": {"outputmap": {"hepmc": "outputhepmc"}, "publisher_type": "frompar-pub"}}}}]}}, "dependencies": {"dependency_type": "jsonpath_ready", "expressions": ["init"]}}}, {"type": "offset", "id": "418fcc4b-e8b5-4a2f-8d63-caa8314a629e", "offset": "/generation_madgraph_pythia/0", "rule": {"name": "init", "state_provider": {"state_provider_type": "localfs_provider", "base_state": {"state_type": "localfs", "identifier": "unidentified_state", "readwrite": [{"path": "/Users/vlad/Documents/EPEprojects/yadage-tests/madgraph_pythia-rivet/workdir/generation_madgraph_pythia", "name": "workdir"}], "readonly": [{"path": "/Users/vlad/Documents/EPEprojects/yadage-tests/madgraph_pythia-rivet/workdir", "name": "readdir0"}]}, "init_states": [{"state_type": "localfs", "identifier": "init", "readwrite": [], "readonly": [{"path": "/Users/vlad/Documents/EPEprojects/yadage-tests/madgraph_pythia-rivet/inputs", "name": "readdir0"}]}], "nest": true, "ensure": true, "sub_init_states": {}}, "type": "JsonStage", "scheduler": {"scheduler_type": "init-stage", "parameters": {"n_events": 1000, "proc_card": "/Users/vlad/Documents/EPEprojects/yadage-tests/madgraph_pythia-rivet/inputs/proc_card_dm.dat"}, "inputs": [{"stepid": "ff2279a7-3b56-4aad-89c4-e3af2aff58f8", "pointer_path": "/n_events"}, {"stepid": "ff2279a7-3b56-4aad-89c4-e3af2aff58f8", "pointer_path": "/proc_card"}], "nodename": "init_generation_madgraph_pythia", "step": {"process": null, "environment": null, "publisher": {"publisher_type": "fromparjq-pub", "script": ".", "tryExact": true, "glob": false, "relative_paths": true}}}, "dependencies": {"dependency_type": "jsonpath_ready", "expressions": []}}}, {"type": "offset", "id": "6ca0d71c-edcc-4a03-9e6a-30e88f51096c", "offset": "/generation_madgraph_pythia/0", "rule": {"name": "madgraph", "state_provider": {"state_provider_type": "localfs_provider", "base_state": {"state_type": "localfs", "identifier": "unidentified_state", "readwrite": [{"path": "/Users/vlad/Documents/EPEprojects/yadage-tests/madgraph_pythia-rivet/workdir/generation_madgraph_pythia", "name": "workdir"}], "readonly": [{"path": "/Users/vlad/Documents/EPEprojects/yadage-tests/madgraph_pythia-rivet/workdir", "name": "readdir0"}]}, "init_states": [{"state_type": "localfs", "identifier": "init", "readwrite": [], "readonly": [{"path": "/Users/vlad/Documents/EPEprojects/yadage-tests/madgraph_pythia-rivet/inputs", "name": "readdir0"}]}], "nest": true, "ensure": true, "sub_init_states": {}}, "type": "JsonStage", "scheduler": {"parameters": [{"key": "proc_card", "value": {"output": "proc_card", "step": "init", "expression_type": "stage-output-selector"}}, {"key": "n_events", "value": {"output": "n_events", "step": "init", "expression_type": "stage-output-selector"}}, {"key": "outputlhe", "value": "{workdir}/events.lhe"}], "scheduler_type": "singlestep-stage", "step": {"environment": {"environment_type": "docker-encapsulated", "image": "recast/madgraph", "imagetag": "2.6.7_v2", "resources": [], "envscript": "", "env": {}, "workdir": null, "par_mounts": []}, "process": {"process_type": "string-interpolated-cmd", "cmd": "python steer_madgraph.py {proc_card} {outputlhe} -n {n_events}"}, "publisher": {"outputmap": {"lhefile": "outputlhe"}, "publisher_type": "frompar-pub"}}}, "dependencies": {"dependency_type": "jsonpath_ready", "expressions": ["init"]}}}, {"type": "offset", "id": "f7ec1527-1bf8-4a97-9dec-ecf9337e0650", "offset": "/generation_madgraph_pythia/0", "rule": {"name": "pythia", "state_provider": {"state_provider_type": "localfs_provider", "base_state": {"state_type": "localfs", "identifier": "unidentified_state", "readwrite": [{"path": "/Users/vlad/Documents/EPEprojects/yadage-tests/madgraph_pythia-rivet/workdir/generation_madgraph_pythia", "name": "workdir"}], "readonly": [{"path": "/Users/vlad/Documents/EPEprojects/yadage-tests/madgraph_pythia-rivet/workdir", "name": "readdir0"}]}, "init_states": [{"state_type": "localfs", "identifier": "init", "readwrite": [], "readonly": [{"path": "/Users/vlad/Documents/EPEprojects/yadage-tests/madgraph_pythia-rivet/inputs", "name": "readdir0"}]}], "nest": true, "ensure": true, "sub_init_states": {}}, "type": "JsonStage", "scheduler": {"parameters": [{"key": "inputlhe", "value": {"output": "lhefile", "step": "madgraph", "expression_type": "stage-output-selector"}}, {"key": "n_events", "value": {"output": "n_events", "step": "init", "expression_type": "stage-output-selector"}}, {"key": "outputhepmc", "value": "{workdir}/output.hepmc"}], "scheduler_type": "singlestep-stage", "step": {"environment": {"environment_type": "docker-encapsulated", "image": "recast/madgraph-pythia", "imagetag": "2.6.6", "resources": [], "envscript": "", "env": {}, "workdir": null, "par_mounts": []}, "process": {"process_type": "string-interpolated-cmd", "cmd": "python steer_pythia.py {inputlhe} {outputhepmc} {n_events}"}, "publisher": {"outputmap": {"hepmc": "outputhepmc"}, "publisher_type": "frompar-pub"}}}, "dependencies": {"dependency_type": "jsonpath_ready", "expressions": ["madgraph"]}}}], "bookkeeping": {"_meta": {"stages": ["1ba59b3c-5df6-448b-ae41-231a3863dec1", "cd5c3c94-41c3-445d-a7b5-9696e3d574e7", "af35d5a5-5e56-4b78-9000-bc3a96771619"], "steps": ["ff2279a7-3b56-4aad-89c4-e3af2aff58f8"]}, "generation_madgraph_pythia": {"0": {"_meta": {"stages": ["418fcc4b-e8b5-4a2f-8d63-caa8314a629e", "6ca0d71c-edcc-4a03-9e6a-30e88f51096c", "f7ec1527-1bf8-4a97-9dec-ecf9337e0650"], "steps": ["12983145-a902-4385-9e4d-0073e51836e3", "8cf823c3-011e-4c1f-93ca-d2c487ff2fa1", "1b62c0dd-19ad-4ab0-9257-fd97c26236f2"]}}}}, "stepsbystage": {"init": [{"_nodeid": "ff2279a7-3b56-4aad-89c4-e3af2aff58f8"}], "generation_madgraph_pythia": [{"_offset": "/generation_madgraph_pythia/0", "init": [{"_nodeid": "12983145-a902-4385-9e4d-0073e51836e3"}], "madgraph": [{"_nodeid": "8cf823c3-011e-4c1f-93ca-d2c487ff2fa1"}], "pythia": [{"_nodeid": "1b62c0dd-19ad-4ab0-9257-fd97c26236f2"}]}]}, "values": {"generation_madgraph_pythia": [{}]}}